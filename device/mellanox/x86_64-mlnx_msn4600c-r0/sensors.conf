################################################################################
# Copyright (c) 2020 Mellanox Technologies
#
# Platform specific sensors config for SN4600C
################################################################################

# Hardware revision default

# Temperature sensors
bus "i2c-2" "i2c-1-mux (chan_id 1)"
    chip "mlxsw-i2c-*-48"
        label temp1 "Ambient ASIC Temp"
        ignore temp2
        ignore temp3
        ignore temp4
        ignore temp5
        ignore temp6
        ignore temp7
        ignore temp8
        ignore temp9
        ignore temp10
        ignore temp11
        ignore temp12
        ignore temp13
        ignore temp14
        ignore temp15
        ignore temp16
        ignore temp17
        ignore temp18
        ignore temp19
        ignore temp20
        ignore temp21
        ignore temp22
        ignore temp23
        ignore temp24
        ignore temp25
        ignore temp26
        ignore temp27
        ignore temp28
        ignore temp29
        ignore temp30
        ignore temp31
        ignore temp32
        ignore temp33
        ignore temp34
        ignore temp35
        ignore temp36
        ignore temp37
        ignore temp38
        ignore temp39
        ignore temp40
        ignore temp41
        ignore temp42
        ignore temp43
        ignore temp44
        ignore temp45
        ignore temp46
        ignore temp47
        ignore temp48
        ignore temp49
        ignore temp50
        ignore temp51
        ignore temp52
        ignore temp53
        ignore temp54
        ignore temp55
        ignore temp56
        ignore temp57
        ignore temp58
        ignore temp59
        ignore temp60
        ignore temp61
        ignore temp62
        ignore temp63
        ignore temp64
        ignore temp65

bus "i2c-7" "i2c-1-mux (chan_id 6)"
    chip "tmp102-i2c-*-49"
        label temp1 "Ambient Fan Side Temp (air intake)"
    chip "tmp102-i2c-*-4a"
        label temp1 "Ambient Port Side Temp (air exhaust)"

bus "i2c-15" "i2c-1-mux (chan_id 6)"
    chip "tmp102-i2c-15-49"
        label temp1 "Ambient COMEX Temp"

# Power controllers
bus "i2c-5" "i2c-1-mux (chan_id 4)"
    chip "xdpe12284-i2c-*-62"
        label in1 "PMIC-1 PSU 12V Rail (in)"
        ignore in2
        label in3 "PMIC-1 ASIC 0.8V VCORE_MAIN Rail (out)"
        ignore in4
        label temp1 "PMIC-1 Temp 1"
        label temp2 "PMIC-1 Temp 2"
        label power1 "PMIC-1 ASIC 12V VCORE_MAIN Rail Pwr (in)"
        ignore power2
        label power3 "PMIC-1 ASIC 0.8V VCORE_MAIN Rail Pwr (out)"
        ignore power4
        label curr1 "PMIC-1 ASIC 12V VCORE_MAIN Rail Curr (in)"
        ignore curr2
        label curr3 "PMIC-1 ASIC 0.8V VCORE_MAIN Rail Curr (out)"
        ignore curr4
    chip "xdpe12284-i2c-*-64"
        label in1 "PMIC-2 PSU 12V Rail_1 (in)"
        label in2 "PMIC-2 PSU 12V Rail_2 (in)"
        label in3 "PMIC-2 ASIC 1.8V Rail_1 (out)"
        label in4 "PMIC-2 ASIC 1.2V Rail_2 (out)"
        label temp1 "PMIC-2 Temp 1"
        label temp2 "PMIC-2 Temp 2"
        label power1 "PMIC-2 ASIC 12V Rail_1 Pwr (in)"
        label power2 "PMIC-2 ASIC 12V Rail_2 Pwr (in)"
        label power3 "PMIC-2 ASIC 1.8V Rail_1 Pwr (out)"
        label power4 "PMIC-2 ASIC 1.2V Rail_2 Pwr (out)"
        label curr1 "PMIC-2 ASIC 12V Rail_1 Curr (in)"
        label curr2 "PMIC-2 ASIC 12V Rail_2 Curr (in)"
        label curr3 "PMIC-2 ASIC 1.8V Rail_1 Curr (out)"
        label curr4 "PMIC-2 ASIC 1.2V Rail_2 Curr (out)"
    chip "xdpe12284-i2c-*-66"
        label in1 "PMIC-3 PSU 12V Rail_1 (in)"
        label in2 "PMIC-3 PSU 12V Rail_2 (in)"
        label in3 "PMIC-3 ASIC 0.85V Rail_1 T0_1 (out)"
        label in4 "PMIC-3 ASIC 1.8V Rail_2 T0_1 (out)"
        label temp1 "PMIC-3 Temp 1"
        label temp2 "PMIC-3 Temp 2"
        label power1 "PMIC-3 ASIC 12V Rail_1 Pwr (in)"
        label power2 "PMIC-3 ASIC 12V Rail_2 Pwr (in)"
        label power3 "PMIC-3 ASIC 0.85V Rail_1 T0_1 Pwr (out)"
        label power4 "PMIC-3 ASIC 1.8V Rail_2 T0_1 Pwr (out)"
        label curr1 "PMIC-3 ASIC 12V Rail_1 Curr (in)"
        label curr2 "PMIC-3 ASIC 12V Rail_2 Curr (in)"
        label curr3 "PMIC-3 ASIC 0.85V Rail_1 T0_1 Curr (out)"
        label curr4 "PMIC-3 ASIC 1.8V Rail_2 T0_1 Curr (out)"
    chip "xdpe12284-i2c-*-68"
        label in1 "PMIC-4 PSU 12V Rail_1 (in)"
        label in2 "PMIC-4 PSU 12V Rail_2 (in)"
        label in3 "PMIC-4 ASIC 0.85V Rail_1 T2_3 (out)"
        label in4 "PMIC-4 ASIC 1.8V Rail_2 T2_3 (out)"
        label temp1 "PMIC-4 Temp 1"
        label temp2 "PMIC-4 Temp 2"
        label power1 "PMIC-4 ASIC 12V Rail_1 Pwr (in)"
        label power2 "PMIC-4 ASIC 12V Rail_2 Pwr (in)"
        label power3 "PMIC-4 ASIC 0.85V Rail_1 T2_3 Pwr (out)"
        label power4 "PMIC-4 ASIC 1.8V Rail_2 T2_3 Pwr (out)"
        label curr1 "PMIC-4 ASIC 12V Rail_1 Curr (in)"
        label curr2 "PMIC-4 ASIC 12V Rail_2 Curr (in)"
        label curr3 "PMIC-4 ASIC 0.85V Rail_1 T2_3 Curr (out)"
        label curr4 "PMIC-4 ASIC 1.8V Rail_2 T2_3 Curr (out)"
    chip "xdpe12284-i2c-*-6a"
        label in1 "PMIC-5 PSU 12V Rail_1 (in)"
        label in2 "PMIC-5 PSU 12V Rail_2 (in)"
        label in3 "PMIC-5 ASIC 0.85V Rail_1 T4_5 (out)"
        label in4 "PMIC-5 ASIC 1.8V Rail_2 T4_5 (out)"
        label temp1 "PMIC-5 Temp 1"
        label temp2 "PMIC-5 Temp 2"
        label power1 "PMIC-5 ASIC 12V Rail_1 Pwr (in)"
        label power2 "PMIC-5 ASIC 12V Rail_2 Pwr (in)"
        label power3 "PMIC-5 ASIC 0.85V Rail_1 T4_5 Pwr (out)"
        label power4 "PMIC-5 ASIC 1.8V Rail_2 T4_5 Pwr (out)"
        label curr1 "PMIC-5 ASIC 12V Rail_1 Curr (in)"
        label curr2 "PMIC-5 ASIC 12V Rail_2 Curr (in)"
        label curr3 "PMIC-5 ASIC 0.85V Rail_1 T4_5 Curr (out)"
        label curr4 "PMIC-5 ASIC 1.8V Rail_2 T4_5 Curr (out)"
    chip "xdpe12284-i2c-*-6c"
        label in1 "PMIC-6 PSU 12V Rail_1 (in)"
        label in2 "PMIC-6 PSU 12V Rail_2 (in)"
        label in3 "PMIC-6 ASIC 0.85V Rail_1 T6_7 (out)"
        label in4 "PMIC-6 ASIC 1.8V Rail_2 T6_7 (out)"
        label temp1 "PMIC-6 Temp 1"
        label temp2 "PMIC-6 Temp 2"
        label power1 "PMIC-6 ASIC 12V Rail_1 Pwr (in)"
        label power2 "PMIC-6 ASIC 12V Rail_2 Pwr (in)"
        label power3 "PMIC-6 ASIC 0.85V Rail_1 T6_7 Pwr (out)"
        label power4 "PMIC-6 ASIC 1.8V Rail_2 T6_7 Pwr (out)"
        label curr1 "PMIC-6 ASIC 12V Rail_1 Curr (in)"
        label curr2 "PMIC-6 ASIC 12V Rail_2 Curr (in)"
        label curr3 "PMIC-6 ASIC 0.85V Rail_1 T6_7 Curr (out)"
        label curr4 "PMIC-6 ASIC 1.8V Rail_2 T6_7 Curr (out)"
    chip "xdpe12284-i2c-*-6e"
        label in1 "PMIC-7 PSU 12V Rail_1 (in)"
        label in2 "PMIC-7 PSU 12V Rail_2 (in)"
        label in3 "PMIC-7 ASIC 1.2V Rail_1 T0_3 (out)"
        label in4 "PMIC-7 ASIC 1.2V Rail_2 T4_7 (out)"
        label temp1 "PMIC-7 Temp 1"
        label temp2 "PMIC-7 Temp 2"
        label power1 "PMIC-7 ASIC 12V Rail_1 Pwr (in)"
        label power2 "PMIC-7 ASIC 12V Rail_2 Pwr (in)"
        label power3 "PMIC-7 ASIC 1.2V Rail_1 T0_3 Pwr (out)"
        label power4 "PMIC-7 ASIC 1.2V Rail_2 T4_7 Pwr (out)"
        label curr1 "PMIC-7 ASIC 12V Rail_1 Curr (in)"
        label curr2 "PMIC-7 ASIC 12V Rail_2 Curr (in)"
        label curr3 "PMIC-7 ASIC 1.2V Rail_1 T0_3 Curr (out)"
        label curr4 "PMIC-7 ASIC 1.2V Rail_2 T4_7 Curr (out)"

bus "i2c-15" "i2c-1-mux (chan_id 6)"
    chip "tps53679-i2c-*-58"
        label in1 "PMIC-8 PSU 12V Rail (in)"
        label in2 "PMIC-8 COMEX 1.8V Rail (out)"
        label in3 "PMIC-8 COMEX 1.05V Rail (out)"
        label temp1 "PMIC-8 Temp 1"
        label temp2 "PMIC-8 Temp 2"
        ignore power1
        label power2 "PMIC-8 COMEX 1.8V Rail Pwr (out)"
        label power3 "PMIC-8 COMEX 1.05V Rail Pwr (out)"
        ignore curr1
        label curr2 "PMIC-8 COMEX 1.8V Rail Curr (out)"
        label curr3 "PMIC-8 COMEX 1.05V Rail Curr (out)"
    chip "tps53679-i2c-*-61"
        label in1 "PMIC-9 PSU 12V Rail (in)"
        label in2 "PMIC-9 COMEX 1.2V Rail (out)"
        ignore in3
        label temp1 "PMIC-9 Temp 1"
        label temp2 "PMIC-9 Temp 2"
        ignore power1
        label power2 "PMIC-9 COMEX 1.2V Rail Pwr (out)"
        ignore power3
        ignore curr1
        label curr2 "PMIC-9 COMEX 1.2V Rail Curr (out)"
        ignore curr3

# Power supplies
bus "i2c-4" "i2c-1-mux (chan_id 3)"
    chip "dps460-i2c-*-58"
        label in1 "PSU-2(R) 220V Rail (in)"
        ignore in2
        label in3 "PSU-2(R) 12V Rail (out)"
        label fan1 "PSU-2(R) Fan 1"
        ignore fan2
        ignore fan3
        label temp1 "PSU-2(R) Temp 1"
        label temp2 "PSU-2(R) Temp 2"
        label temp3 "PSU-2(R) Temp 3"
        label power1 "PSU-2(R) 220V Rail Pwr (in)"
        label power2 "PSU-2(R) 12V Rail Pwr (out)"
        label curr1 "PSU-2(R) 220V Rail Curr (in)"
        label curr2 "PSU-2(R) 12V Rail Curr (out)"
        set in3_lcrit in3_crit * 0.662
        set in3_min in3_crit * 0.745
        set in3_max in3_crit * 0.952
    chip "dps460-i2c-*-59"
        label in1 "PSU-1(L) 220V Rail (in)"
        ignore in2
        label in3 "PSU-1(L) 12V Rail (out)"
        label fan1 "PSU-1(L) Fan 1"
        ignore fan2
        ignore fan3
        label temp1 "PSU-1(L) Temp 1"
        label temp2 "PSU-1(L) Temp 2"
        label temp3 "PSU-1(L) Temp 3"
        label power1 "PSU-1(L) 220V Rail Pwr (in)"
        label power2 "PSU-1(L) 12V Rail Pwr (out)"
        label curr1 "PSU-1(L) 220V Rail Curr (in)"
        label curr2 "PSU-1(L) 12V Rail Curr (out)"
        set in3_lcrit in3_crit * 0.662
        set in3_min in3_crit * 0.745
        set in3_max in3_crit * 0.952

# Chassis fans
chip "mlxreg_fan-isa-*"
    label fan1 "Chassis Fan Drawer-1"
    label fan2 "Chassis Fan Drawer-2"
    label fan3 "Chassis Fan Drawer-3"
